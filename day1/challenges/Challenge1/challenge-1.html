<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Challenge 1: Cloud Shell: Using PowerShell for Azure Administration and Automation | Azure Developer College</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/trainingdays/assets/css/0.styles.6e657840.css" as="style"><link rel="preload" href="/trainingdays/assets/js/app.77101594.js" as="script"><link rel="preload" href="/trainingdays/assets/js/2.ded0ad42.js" as="script"><link rel="preload" href="/trainingdays/assets/js/20.d72f727d.js" as="script"><link rel="prefetch" href="/trainingdays/assets/js/10.824c7062.js"><link rel="prefetch" href="/trainingdays/assets/js/11.33b45e4c.js"><link rel="prefetch" href="/trainingdays/assets/js/12.822fcc16.js"><link rel="prefetch" href="/trainingdays/assets/js/13.daea07dd.js"><link rel="prefetch" href="/trainingdays/assets/js/14.b7070564.js"><link rel="prefetch" href="/trainingdays/assets/js/15.93038713.js"><link rel="prefetch" href="/trainingdays/assets/js/16.11700a81.js"><link rel="prefetch" href="/trainingdays/assets/js/17.013c3eb6.js"><link rel="prefetch" href="/trainingdays/assets/js/18.af27d226.js"><link rel="prefetch" href="/trainingdays/assets/js/19.95eefa81.js"><link rel="prefetch" href="/trainingdays/assets/js/21.9e838a16.js"><link rel="prefetch" href="/trainingdays/assets/js/22.6e7808b1.js"><link rel="prefetch" href="/trainingdays/assets/js/23.b0d61578.js"><link rel="prefetch" href="/trainingdays/assets/js/24.cb6ad96a.js"><link rel="prefetch" href="/trainingdays/assets/js/25.f6894b46.js"><link rel="prefetch" href="/trainingdays/assets/js/26.7afeca44.js"><link rel="prefetch" href="/trainingdays/assets/js/27.8f3e3c87.js"><link rel="prefetch" href="/trainingdays/assets/js/28.659292fb.js"><link rel="prefetch" href="/trainingdays/assets/js/29.bc609976.js"><link rel="prefetch" href="/trainingdays/assets/js/3.9f484c98.js"><link rel="prefetch" href="/trainingdays/assets/js/30.b7ba753a.js"><link rel="prefetch" href="/trainingdays/assets/js/31.313aed83.js"><link rel="prefetch" href="/trainingdays/assets/js/32.f85eb422.js"><link rel="prefetch" href="/trainingdays/assets/js/33.69060445.js"><link rel="prefetch" href="/trainingdays/assets/js/34.ecf41982.js"><link rel="prefetch" href="/trainingdays/assets/js/35.5a6981bd.js"><link rel="prefetch" href="/trainingdays/assets/js/36.55a23932.js"><link rel="prefetch" href="/trainingdays/assets/js/37.b5c109d3.js"><link rel="prefetch" href="/trainingdays/assets/js/38.502263ba.js"><link rel="prefetch" href="/trainingdays/assets/js/39.dd347186.js"><link rel="prefetch" href="/trainingdays/assets/js/4.23eb67de.js"><link rel="prefetch" href="/trainingdays/assets/js/40.e260de0b.js"><link rel="prefetch" href="/trainingdays/assets/js/41.a348f746.js"><link rel="prefetch" href="/trainingdays/assets/js/42.9d3a79a8.js"><link rel="prefetch" href="/trainingdays/assets/js/43.45c5ebc8.js"><link rel="prefetch" href="/trainingdays/assets/js/44.b1387fa8.js"><link rel="prefetch" href="/trainingdays/assets/js/45.daf2a18f.js"><link rel="prefetch" href="/trainingdays/assets/js/46.67560ec6.js"><link rel="prefetch" href="/trainingdays/assets/js/47.c43eb1c3.js"><link rel="prefetch" href="/trainingdays/assets/js/48.3a324eb8.js"><link rel="prefetch" href="/trainingdays/assets/js/49.744b538b.js"><link rel="prefetch" href="/trainingdays/assets/js/5.a406547b.js"><link rel="prefetch" href="/trainingdays/assets/js/50.0305478e.js"><link rel="prefetch" href="/trainingdays/assets/js/51.fb0f6fea.js"><link rel="prefetch" href="/trainingdays/assets/js/52.9aef0336.js"><link rel="prefetch" href="/trainingdays/assets/js/53.3e848a6e.js"><link rel="prefetch" href="/trainingdays/assets/js/54.f6ada1f6.js"><link rel="prefetch" href="/trainingdays/assets/js/55.51f16090.js"><link rel="prefetch" href="/trainingdays/assets/js/56.42a8a9c5.js"><link rel="prefetch" href="/trainingdays/assets/js/57.793c4bd7.js"><link rel="prefetch" href="/trainingdays/assets/js/58.f469d506.js"><link rel="prefetch" href="/trainingdays/assets/js/59.cc4f0a04.js"><link rel="prefetch" href="/trainingdays/assets/js/6.b63183bc.js"><link rel="prefetch" href="/trainingdays/assets/js/60.aa528b2b.js"><link rel="prefetch" href="/trainingdays/assets/js/61.23d1e322.js"><link rel="prefetch" href="/trainingdays/assets/js/62.c1937e32.js"><link rel="prefetch" href="/trainingdays/assets/js/63.95b606b8.js"><link rel="prefetch" href="/trainingdays/assets/js/64.5371aaed.js"><link rel="prefetch" href="/trainingdays/assets/js/65.2f201a08.js"><link rel="prefetch" href="/trainingdays/assets/js/66.44728eb2.js"><link rel="prefetch" href="/trainingdays/assets/js/67.2ac580b4.js"><link rel="prefetch" href="/trainingdays/assets/js/68.7a80d100.js"><link rel="prefetch" href="/trainingdays/assets/js/69.caf39265.js"><link rel="prefetch" href="/trainingdays/assets/js/7.303f1db0.js"><link rel="prefetch" href="/trainingdays/assets/js/70.ace68e7e.js"><link rel="prefetch" href="/trainingdays/assets/js/71.b1fca4aa.js"><link rel="prefetch" href="/trainingdays/assets/js/72.9864ebab.js"><link rel="prefetch" href="/trainingdays/assets/js/73.45490bea.js"><link rel="prefetch" href="/trainingdays/assets/js/74.70e71444.js"><link rel="prefetch" href="/trainingdays/assets/js/75.99839307.js"><link rel="prefetch" href="/trainingdays/assets/js/76.8c3bfc8e.js"><link rel="prefetch" href="/trainingdays/assets/js/77.48942a3c.js"><link rel="prefetch" href="/trainingdays/assets/js/78.fa5c298d.js"><link rel="prefetch" href="/trainingdays/assets/js/79.d4841068.js"><link rel="prefetch" href="/trainingdays/assets/js/8.c1e5538d.js"><link rel="prefetch" href="/trainingdays/assets/js/9.a5de28c0.js">
    <link rel="stylesheet" href="/trainingdays/assets/css/0.styles.6e657840.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/trainingdays/" class="home-link router-link-active"><!----> <span class="site-name">Azure Developer College</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/azuredevcollege/trainingdays" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/azuredevcollege/trainingdays" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/trainingdays/" aria-current="page" class="sidebar-link">Home</a></li><li><a href="/trainingdays/day1/" aria-current="page" class="sidebar-link">Day 1 Azure Fundamentals &amp; Infrastructure</a></li><li><a href="/trainingdays/day2/" class="sidebar-link">Day 2 Azure Development</a></li><li><a href="/trainingdays/day3/" class="sidebar-link">Day 3 Data and AI</a></li><li><a href="/trainingdays/day4/" class="sidebar-link">Day 4 Azure DevOps</a></li><li><a href="/trainingdays/day5/" class="sidebar-link">Day 5 Identity and Architecture</a></li><li><a href="/trainingdays/day6/" class="sidebar-link">Day 6 Containerization</a></li><li><a href="/trainingdays/day7/" class="sidebar-link">Day 7 Kubernetes</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="challenge-1-cloud-shell-using-powershell-for-azure-administration-and-automation"><a href="#challenge-1-cloud-shell-using-powershell-for-azure-administration-and-automation" class="header-anchor">#</a> Challenge 1: Cloud Shell: Using PowerShell for Azure Administration and Automation</h1> <p><a href="/trainingdays/day1/" class="router-link-active">back</a></p> <h2 id="here-is-what-you-will-learn"><a href="#here-is-what-you-will-learn" class="header-anchor">#</a> Here is what you will learn</h2> <ul><li>Use the 'Cloud Shell' as <em>'launch point'</em> for PowerShell to automate Azure resource creation and configuration.</li> <li>Learn it's benefits (vs. using PowerShell on your PC)</li> <li>Learn to know which PowerShell modules are used.</li></ul> <h2 id="benefits-of-the-azure-cloud-shell"><a href="#benefits-of-the-azure-cloud-shell" class="header-anchor">#</a> Benefits of the Azure Cloud Shell</h2> <p>The Azure <strong>Cloud Shell is a shell | console hosted in your browser window</strong>. Ready to <strong>execute commands to create, delete, modify Azure resources in your subscription</strong>.<br>
While it is also possible to use PowerShell on your local PC to administer Azure. Using the Cloud Shell brings some advantages compared to using your PC as 'launch point'.</p> <p>Using the <strong>Cloud Shell saves you time</strong> as...:</p> <ul><li><strong>no need to explicitly code the azure logon within the script</strong> - you are already authenticated to Azure via the browser ðŸ˜‰</li> <li><strong>nothing needs to be installed on your PC</strong> (<a href="https://docs.microsoft.com/en-us/powershell/azure" target="_blank" rel="noopener noreferrer">no &quot;which version of PowerShell? What modules?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)&quot;</li></ul> <h2 id="create-an-azure-cloud-shell-if-you-don-t-have-one"><a href="#create-an-azure-cloud-shell-if-you-don-t-have-one" class="header-anchor">#</a> Create an Azure Cloud Shell (if you don't have one.)</h2> <div class="language- extra-class"><pre class="language-text"><code>[Azure Portal] -&gt; Click the 'Cloud Shell' symbol close to your login details on the right upper corner.
</code></pre></div><p><img src="data:image/png;base64,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" alt="Cloud Shell">)<br>
The <strong>'Cloud Shell' is an in-browser-accessible shell for managing Azure resources</strong>. It already has the required SDKs and tools installed to interact with Azure. You can use either Bash or PowerShell.<br>
When being asked <strong>choose PowerShell this time</strong>.<br> <strong>The first time you use the 'Cloud Shell' you will be asked to setup a storage account</strong> e.g. to store files you have uploaded persistently. <a href="https://docs.microsoft.com/en-us/azure/cloud-shell/persisting-shell-storage" target="_blank" rel="noopener noreferrer">See<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language- extra-class"><pre class="language-text"><code>[Azure Portal] -&gt; Click 'Show advanced settings'
</code></pre></div><p><img src="/trainingdays/assets/img/CloudShell1.af6f63c1.png" alt="Cloud Shell Storage Account Setup"></p> <table><thead><tr><th>Name</th> <th>Value</th></tr></thead> <tbody><tr><td>Subscription</td> <td><em>your subscription</em></td></tr> <tr><td>Cloud Shell Region</td> <td>e.g. <strong>North Europe</strong></td></tr> <tr><td>Resource Group</td> <td>e.g. <strong>rg-cloudshell</strong></td></tr> <tr><td>Storage Account</td> <td><strong><em>some unique value</em></strong></td></tr> <tr><td>File Share</td> <td><strong>cloudshell</strong></td></tr></tbody></table> <div class="language- extra-class"><pre class="language-text"><code>[Azure Portal] -&gt; Create storage
</code></pre></div><p>Once successful your shell should appear at the bottom of the page:<br> <img src="/trainingdays/assets/img/CloudShell2.3a511722.png" alt="Cloud Shell in the Azure portal"></p> <h2 id="playing-with-the-cloud-shell"><a href="#playing-with-the-cloud-shell" class="header-anchor">#</a> Playing with the Cloud Shell</h2> <p><strong>Execute your first commands</strong>. Using 'PowerShell' as environment ('bash' is also possible) you can either call:<br> <strong>Azure CLI code</strong> snippets, e.g.:</p> <div class="language- extra-class"><pre class="language-text"><code>az account show
</code></pre></div><p>or launch <strong>Azure PowerShell snippets</strong>, like:</p> <div class="language-PowerShell extra-class"><pre class="language-powershell"><code><span class="token function">Get-AzSubscription</span>
</code></pre></div><p>choose whatever you prefer - most Azure documentation available shows both ways - sometimes one is shorter than the other.<br> <strong>Note that Azure seems to use PowerShell Core on a Linux OS for its Cloud Shell: Execute...</strong></p> <div class="language-PowerShell extra-class"><pre class="language-powershell"><code><span class="token variable">$psversiontable</span>
</code></pre></div><p>should return something like:<br> <img src="/trainingdays/assets/img/CloudShell3.f33383c0.png" alt="PowerShell Version output"></p> <p>Let's query e.g. the available VM sizes in a specific region:</p> <div class="language-PowerShell extra-class"><pre class="language-powershell"><code><span class="token function">Get-AzVMSize</span> <span class="token operator">-</span>Location <span class="token string">'west europe'</span>
</code></pre></div><p>Output should be something like:</p> <div class="language- extra-class"><pre class="language-text"><code>Name                   NumberOfCores MemoryInMB MaxDataDiskCount OSDiskSizeInMB ResourceDiskSizeInMB
----                   ------------- ---------- ---------------- -------------- --------------------
Standard_A0                        1        768                1        1047552                20480
Standard_A1                        1       1792                2        1047552                71680
Standard_A2                        2       3584                4        1047552               138240
Standard_A3                        4       7168                8        1047552               291840
.
.
.

</code></pre></div><h2 id="powershell-az-modules-for-azure"><a href="#powershell-az-modules-for-azure" class="header-anchor">#</a> PowerShell Az Modules for Azure</h2> <p>The so-called PowerShell <em>cmdlets</em> (e.g. 'Get-Date', 'Get-AzVMSize',...) are grouped into modules.<br>
There are <strong>specific modules for Azure administration: the '<em>Az modules</em>'</strong>
Execute:</p> <div class="language-PowerShell extra-class"><pre class="language-powershell"><code><span class="token function">Get-Module</span> az<span class="token operator">*</span> <span class="token operator">-</span>ListAvailable
</code></pre></div><p><strong>to list the pre-installed Az modules</strong>:</p> <div class="language- extra-class"><pre class="language-text"><code>Directory: C:\Program Files\WindowsPowerShell\Modules

    Directory: /usr/local/share/powershell/Modules

ModuleType Version    PreRelease Name                                PSEdition ExportedCommands
---------- -------    ---------- ----                                --------- ----------------
Script     4.6.1                 Az                                  Core,Desk
Script     1.9.3                 Az.Accounts                         Core,Desk {Disable-AzDataCollection, Disable-AzContextAutosave, Enable-AzDataCollection, Enable-AzConâ€¦
Script     1.1.1                 Az.Advisor                          Core,Desk {Get-AzAdvisorRecommendation, Enable-AzAdvisorRecommendation, Disable-AzAdvisorRecommendatiâ€¦
Script     1.2.0                 Az.Aks                              Core,Desk {Get-AzAksCluster, New-AzAksCluster, Remove-AzAksCluster, Import-AzAksCredentialâ€¦}
Script     1.1.4                 Az.AnalysisServices                 Core,Desk {Resume-AzAnalysisServicesServer, Suspend-AzAnalysisServicesServer, Get-AzAnalysisServicesSâ€¦
Script     2.1.0                 Az.ApiManagement                    Core,Desk {Add-AzApiManagementApiToGateway, Add-AzApiManagementApiToProduct, Add-AzApiManagementProduâ€¦
Script     1.1.0                 Az.ApplicationInsights              Core,Desk {Get-AzApplicationInsights, New-AzApplicationInsights, Remove-AzApplicationInsights, Updateâ€¦
Script     1.4.0                 Az.Automation                       Core,Desk {Get-AzAutomationHybridWorkerGroup, Remove-AzAutomationHybridWorkerGroup, Get-AzAutomationJâ€¦
Script     3.1.0                 Az.Batch                            Core,Desk {Remove-AzBatchAccount, Get-AzBatchAccount, Get-AzBatchAccountKey, New-AzBatchAccountâ€¦}
Script     1.0.3                 Az.Billing                          Core,Desk {Get-AzBillingInvoice, Get-AzBillingPeriod, Get-AzEnrollmentAccount, Get-AzConsumptionBudgeâ€¦
Script     1.4.3                 Az.Cdn                              Core,Desk {Get-AzCdnProfile, Get-AzCdnProfileSsoUrl, New-AzCdnProfile, Remove-AzCdnProfileâ€¦}
.
.
.
</code></pre></div><p><strong>To find out which module hosts which cmdlet</strong> (e.g. Get-AzVMSize) <strong>type</strong> something like:</p> <div class="language-PowerShell extra-class"><pre class="language-powershell"><code><span class="token function">get-command</span> <span class="token operator">*</span>vmsize<span class="token operator">*</span>
</code></pre></div><p>Result similar to:</p> <div class="language- extra-class"><pre class="language-text"><code>CommandType     Name                                               Version    Source
-----------     ----                                               -------    ------
Alias           Get-AzureRmVMSize
Cmdlet          Get-AzDtlAllowedVMSizesPolicy                      1.0.2      Az.DevTestLabs
Cmdlet          Get-AzVMSize                                       4.3.1      Az.Compute
Cmdlet          Set-AzDtlAllowedVMSizesPolicy                      1.0.2      Az.DevTestLabs
</code></pre></div><p>To find out all commands hosted in the Az.Compute module type:</p> <div class="language-PowerShell extra-class"><pre class="language-powershell"><code><span class="token function">Get-Command</span> <span class="token operator">-</span>Module Az<span class="token punctuation">.</span>Compute
</code></pre></div><p>delivers e.g.:</p> <div class="language- extra-class"><pre class="language-text"><code>CommandType     Name                                               Version    Source
-----------     ----                                               -------    ------
.
.
.
Cmdlet          New-AzSnapshotUpdateConfig                         4.3.1      Az.Compute
Cmdlet          New-AzVM                                           4.3.1      Az.Compute
Cmdlet          New-AzVMConfig                                     4.3.1      Az.Compute
Cmdlet          New-AzVMDataDisk                                   4.3.1      Az.Compute
Cmdlet          New-AzVMSqlServerAutoBackupConfig                  4.3.1      Az.Compute
Cmdlet          New-AzVMSqlServerAutoPatchingConfig                4.3.1      Az.Compute
Cmdlet          New-AzVMSqlServerKeyVaultCredentialConfig          4.3.1      Az.Compute
.
.
.
</code></pre></div><h2 id="create-a-vm-with-powershell"><a href="#create-a-vm-with-powershell" class="header-anchor">#</a> Create a VM with PowerShell ...</h2> <p>Now <strong>let's create a VM using PowerShell</strong>.<br> <strong><em>New-AzVM</em></strong> seems to be a good candidate but <strong>you may need some help</strong> with the parameters.<br> <strong>Try <em>help New-AzVM</em></strong> <strong>or execute</strong>:</p> <div class="language-PowerShell extra-class"><pre class="language-powershell"><code>help <span class="token function">New-AzVM</span> <span class="token operator">-</span>online
</code></pre></div><p>this <strong>should open a new browser tab with online help for New-AzVM</strong>. Examine the explanation and look at the code samples.</p> <p>Try <strong>creating a simple VM by executing</strong>:</p> <div class="language-PowerShell extra-class"><pre class="language-powershell"><code><span class="token variable">$VMName</span> = <span class="token string">'MyVM'</span>    <span class="token comment"># variable for easy reuse</span>
<span class="token function">New-AzVM</span> <span class="token operator">-</span>Name <span class="token variable">$VMName</span> <span class="token operator">-</span>Credential <span class="token punctuation">(</span><span class="token function">Get-Credential</span><span class="token punctuation">)</span> <span class="token operator">-</span>Location <span class="token string">'North Europe'</span> <span class="token operator">-</span>Size <span class="token string">'Standard_A0'</span>
</code></pre></div><p><strong>Enter a user name</strong> (not 'admin' nor 'administrator') <strong>and a complex password</strong> when asked.
<img src="/trainingdays/assets/img/newvm.55b1f9c3.png" alt="progress in azure cloud shell">
After a successful run you should have a VM in your subscription:<br> <img src="/trainingdays/assets/img/newvm2.3cc60e1f.png" alt="MyVM in Azure Portal"></p> <p><strong>Cleanup</strong> e.g. <strong>by deleting</strong> the resource group with the vm <strong>using the portal or via executing</strong>:</p> <div class="language-PowerShell extra-class"><pre class="language-powershell"><code><span class="token function">Remove-AzResourceGroup</span> <span class="token variable">$VMName</span> <span class="token operator">-</span>Force <span class="token operator">-</span>AsJob   <span class="token comment"># -AsJob will execute this operation in the background </span>
</code></pre></div><blockquote><p><strong>In case of a error</strong> try restarting the cloud shell as it times out.</p></blockquote> <p><a href="/trainingdays/day1/" class="router-link-active">back</a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/azuredevcollege/trainingdays/edit/master/day1/challenges/Challenge1/challenge-1.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/trainingdays/assets/js/app.77101594.js" defer></script><script src="/trainingdays/assets/js/2.ded0ad42.js" defer></script><script src="/trainingdays/assets/js/20.d72f727d.js" defer></script>
  </body>
</html>
